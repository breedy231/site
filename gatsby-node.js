const { createFileNodeFromBuffer } = require("gatsby-source-filesystem")

const urlDecodeBytes = encoded => {
  let decoded = Buffer.from("")
  for (let i = 0; i < encoded.length; i++) {
    if (encoded[i] === "%") {
      const charBuf = Buffer.from(`${encoded[i + 1]}${encoded[i + 2]}`, "hex")
      decoded = Buffer.concat([decoded, charBuf])
      i += 2
    } else {
      const charBuf = Buffer.from(encoded[i])
      decoded = Buffer.concat([decoded, charBuf])
    }
  }
  return decoded
}

exports.sourceNodes = ({actions, createNodeId, getCache}) => {
  // if (process.env.INCOMING_HOOK_BODY) {
  //   // Source plex thumbnail from Netlify build hook
  //   const thumbnailBufferEncoded =
  //     process.env.INCOMING_HOOK_BODY.split('=')[1]

  //   const {createNode} = actions;

  //   const thumbnailBuffer = urlDecodeBytes(thumbnailBufferEncoded)
  //   createFileNodeFromBuffer({
  //     buffer: thumbnailBuffer,
  //     getCache: getCache,
  //     createNode: createNode,
  //     createNodeId: createNodeId,
  //     name: "plexThumbnail",
  //   })
  // }

  const encodedBufferString = "thumbnailBufferEncoded=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";

  const thumbnailBufferEncoded =
      encodedBufferString.split('=')[1];
    const {createNode} = actions;

    const thumbnailBuffer = Buffer.from(thumbnailBufferEncoded, 'base64')
    createFileNodeFromBuffer({
      buffer: thumbnailBuffer,
      getCache: getCache,
      createNode: createNode,
      createNodeId: createNodeId,
      name: "plexThumbnail",
      ext: '.jpg'
    })


}
